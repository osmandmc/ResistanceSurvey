@model RS.MVC.Models.CompanyCreateViewModel

<form class="ui form" id="companyForm">
            <div class="field">
                <label for="Name">Şirket Adı</label>
                <input type="text" name="Name" id="Name">
            </div>
            <div class="three fields">
                <div class="field">
                    <label for="TypeId">Şirketin Niteliği</label>
                    <select asp-for="TypeId" asp-items="@ViewBag.CompanyTypes">
                    <option value="">--Seçiniz--</option>
                    </select>
                </div>
                <div class="field">
                    <label for="ScaleId">Şirketin Büyüklüğü</label>
                    <select asp-for="ScaleId" asp-items="@ViewBag.CompanyScales">
                    <option value="">--Seçiniz--</option>
                    </select>
                </div>
                <div class="field">
                    <label for="WorklineId">Şirketin İş Kolu</label>
                    <select asp-for="WorklineId" asp-items="@ViewBag.Worklines">
                        <option value="">--Seçiniz--</option>
                    </select>
                </div>
            </div>
       
            <div class="field">
                <label asp-for="CompanyId">Ana Şirket</label>
                <div class="two fields">
                    <div class="field">
                        <select asp-for="CompanyId" asp-items="@ViewBag.Companies" class="ui fluid search selection dropdown"> <option value="">--Seçiniz--</option></select>
                    </div>
                </div>
            </div>
            
           
        </div>
   <button class="ui button" type="submit">Submit</button>
</form>

    <script>
        $(function() {
            
        });
        $("#companyForm").on('submit', function (e) {
            e.preventDefault() // prevent the form's normal submission
            var dataToPost = $(this).serialize()
            if($(this).valid())
            {
                $.post("AddCompany", dataToPost)
                        .done(function(response, status, jqxhr){ 
                            console.log(response);
                            $('#CompanyId').append($('<option>', {
                                value: response.companyId,
                                text: response.companyName
                            }));
                           
                            $(".ui.modal").modal("hide");
                        })
                        .fail(function(jqxhr, status, error){ 
                            // this is the ""error"" callback
                        })
            }
        
    })
  
    </script>

